"0","# now, clone the original, giant tree so in case i eff something up in the next few steps, "
"0","# I don't have to remake the tree and waste time. "
"0","hdefsCopy <- Clone(hdefs)"
"0",""
"0","# from the copied tree, traverse to the ""basic cell groups and regions"" node"
"0","# then get all of the total gray matter volumes (Basic cell groups and regions)"
"0","gm_total <- data.frame(hdefsCopy$`Basic cell groups and regions`$Get(""volumes"", filterFun = isNotLeaf)) %>% select(Basic.cell.groups.and.regions) "
"0",""
"0","# then also get all the white matter volume (fiber tracts)"
"0","wm_total <- data.frame(hdefsCopy$`fiber tracts`$Get(""volumes"", filterFun = isNotLeaf)) %>%"
"0","select(fiber.tracts) "
"0",""
"0","# function to clarify what type of total brain volume you'd want"
"0","# if gray only, then total brain volume will return only gray volume"
"0","# if literally anything else (""whole brain"", etc) will return sum of gray and white matter volume "
"0","tbv_select <- function(type) {"
"0","  "
"0","              if(type == ""gray only""){"
"0","                "
"0","                total <- gm_total %>% rename(TBV = Basic.cell.groups.and.regions)"
"0","                "
"0","              }"
"0","             else("
"0","               "
"0","               total <- gm_total + wm_total %>% rename(TBV = Basic.cell.groups.and.regions)"
"0","               "
"0","             )"
"0","  "
"0","             return(total)"
"0","}"
"0",""
"0","# here, i've defined it as just gray only for now, but please change this up as needed "
"0","tissue_total <- tbv_select(""gray only"")"
"0",""
